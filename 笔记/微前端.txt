# 微前端

微前端解决特定问题：技术栈无关

## iframe?

体验不好，有点像后端模版 vs spa

微前端 你可以理解为iframe的spa

单页路由监听 => 不同的(spa是组件) app

# 手写一部分微前端原理

1.加载应用 (html-loader)
  通过html，解析出页面加载的css,js和html
2.css污染
  a.每个子应用改造，用不同的css前缀
  b.动态样式表
  c.shadow dom
  d.scoped css
3.js沙箱
  a.eval(function(){})内部执行加载的js,完成封装
  b.window.xx = 123
    proxy window
  c.window 快照 每次应用加载前都记录一下，卸载的时候恢复
4.路由的切换
  拦截一下addEventListener,拦截一下hashchange,popstate(history) 记录
  
子应用的生命周期
通信方案

qiankun的实战


